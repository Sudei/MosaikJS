!function(e){e.MosaikJS=function(i,s){function n(e){e.sort(function(e,i){var s=new Date(e.size),n=new Date(i.size);return s>n?-1:n>s?1:0})}function t(){e(window).on("resize",function(e){a.responsive()})}var a=this,o=null,r=null,l=null,p=null;a.$el=e(i),a.el=i,a.$el.data("MosaikJS",a),a.init=function(){a.options=e.extend({},e.MosaikJS.defaultOptions,s),a.$el.addClass("MosaikJS"),n(a.options.breakpoints),o=a.$el.find(".mosaikjs-wrapper"),r=a.$el.find(".mosaikjs-wrapper .mosaikjs-list-boxes"),l=a.$el.find(".mosaikjs-wrapper .mosaikjs-list-boxes .case"),p=a.$el.find(".mosaikjs-bg-project"),l.each(function(i){var s=e(this),n=s.find(".case-img-container");n.css({"background-image":"url("+n.attr("data-img")+")"}),a.hoverCaser(s)}),o.append('<div class="clear"></div>'),a.responsive(),t()},a.responsive=function(){var e=a.options.breakpoints,i=!1;for(var s in e)if(window.matchMedia("(min-width: "+e[s].size+"px)").matches){a.applyElemsDimensions(e[s].elementWidth,e[s].elementHeight),i=!0;break}i||a.applyElemsDimensions(a.options.elementWidth,a.options.elementHeight),a.separators()},a.applyElemsDimensions=function(i,s){l.each(function(n){var t=e(this);t.css({width:i,height:s})})},a.separators=function(){var i=l.length,s=l[0].offsetWidth,n=l[0].offsetHeight,t=a.$el.width(),r=t/s,p=i/r;o.find(".sep").remove();for(var c=1;r>c;c++){var d=e('<div class="sep sep-vt sep-vt-'+c+'"></div>');d.css({left:s*c}),o.append(d)}for(var v=0;p>=v;v++){var f=e('<div class="sep sep-hz sep-hz-'+v+'"></div>');f.css({top:n*v}),o.append(f)}},a.hoverCaser=function(i){e(i).on("mouseenter",function(){l.addClass("unactive"),e(this).removeClass("unactive"),p.css({"background-image":"url("+e(this).find(".case-img-container").attr("data-cover")+")"});var s=new Event("enter");s.element=i,a.el.dispatchEvent(s)}),e(i).on("mouseleave",function(){var e=new Event("leave");e.element=i,a.el.dispatchEvent(e),l.removeClass("unactive")})},a.init()},e.MosaikJS.defaultOptions={elementWidth:"33.3%",elementHeight:"210px",breakpoints:[],features:{responsive:!0,fit_texts:!1}},e.fn.mosaikJS=function(i){return this.each(function(){new e.MosaikJS(this,i)})}}(jQuery);